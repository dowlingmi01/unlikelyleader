(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{1708:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/results",function(){return n(4999)}])},4999:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(7876),s=n(4232);let a=(0,n(3930).UU)("https://kzthkjecrtulwwqkpkeb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6dGhramVjcnR1bHd3cWtwa2ViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc2ODkxNDksImV4cCI6MjA2MzI2NTE0OX0.4pv28Q6LLNcXIXItgaqmIHBIsV__bjRMFGYzOYY4dRE"),o={"Steady Anchor":{description:"You are the calm in the storm. You lead with steadiness, reliability, and quiet presence. In tense or uncertain moments, others look to you for reassurance, groundedness, and clarity.",strengths:["Emotional steadiness","Trust-building through consistency","Grounded under pressure","Supportive and calming presence"]},"Insightful Observer":{description:"You lead by seeing what others don’t. With a deep capacity for reflection and perception, you bring nuance, wisdom, and unexpected insight to complex problems or dynamics.",strengths:["Deep listening","Subtle but powerful insights","Ability to spot patterns and blind spots","Wisdom beyond surface-level analysis"]},"Rational Bridge":{description:"You blend logic and empathy—serving as the thoughtful connector between strategy and people. You bring clarity to conflict and are often the person who can help others find common ground.",strengths:["Balanced, thoughtful decision-making","Bridging opposing views","Clear communicator with depth","Respected for fairness and reason"]},"Quiet Strategist":{description:"You lead with focus, foresight, and intentionality. Your power lies in seeing the big picture and calmly guiding others toward it, often without the need for attention or fanfare.",strengths:["Vision with precision","Tactical thinking without ego","Calm execution under pressure","Intentional, long-term orientation"]},"Humble Fire":{description:"You lead from purpose and principle, fueled by a quiet but unshakable conviction. You don’t seek attention—you seek meaning. Your strength lies in authenticity, courage, and values-driven action.",strengths:["Purpose-driven leadership","Courage to act from values","Quiet confidence and heart","Inspiring without performance"]}};function i(){let[e,t]=(0,s.useState)(""),[n,i]=(0,s.useState)(!1),[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[p,m]=(0,s.useState)(0),[h,g]=(0,s.useState)(0),[y,f]=(0,s.useState)(0);(0,s.useEffect)(()=>{let e=localStorage.getItem("dominantArchetype"),t=localStorage.getItem("spectrumType"),n=localStorage.getItem("spectrumScore"),r=localStorage.getItem("modifierScore"),s=localStorage.getItem("totalScore");e&&c(e),t&&u(t),n&&m(parseInt(n)),r&&g(parseInt(r)),s&&f(parseInt(s)),console.log("Loaded from localStorage:",{storedArchetype:e,storedSpectrum:t,storedSpectrumScore:n,storedModifierScore:r,storedTotalScore:s})},[]);let b=async()=>{if(!e.includes("@"))return alert("Enter a valid email.");let t=JSON.parse(localStorage.getItem("quizAnswers")||"[]"),n=localStorage.getItem("dominantArchetype")||"",r=localStorage.getItem("spectrumType")||"",s=parseInt(localStorage.getItem("spectrumScore")||"0",10),o=parseInt(localStorage.getItem("modifierScore")||"0",10),l=parseInt(localStorage.getItem("totalScore")||"0",10);console.log("Submitting values (fresh from localStorage):",{email:e,answers:t,storedArchetype:n,storedSpectrum:r,storedSpectrumScore:s,storedModifierScore:o,storedTotalScore:l});let{error:c}=await a.from("unlikely_quiz").insert({email:e,answers:t,dominant_archetype:n,spectrum_type:r,spectrum_score:s,modifier_score:o,total_score:l});c?(console.error("Supabase insert error:",c),alert("There was an error submitting your results.")):i(!0)},w=async()=>{let t=o[l],n=await fetch("/api/generate-pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e||"Unlikely Leader",archetype:l,description:(null==t?void 0:t.description)||"",strengths:(null==t?void 0:t.strengths)||[],spectrumType:d,spectrumScore:p,modifierScore:h,totalScore:y,affirmations:["I lead best when I trust who I am.","My quiet strength is a powerful force.","I don’t need to perform leadership—I embody it.","Authenticity is my greatest leadership asset.","I was always meant to lead—just in my own way."]})});if(!n.ok)return void alert("Failed to generate PDF. Please try again.");let r=await n.blob(),s=window.URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download="UnlikelyLeader_Report_".concat(l.replace(/\s+/g,""),".pdf"),a.click(),window.URL.revokeObjectURL(s)},x=o[l];return(0,r.jsxs)("div",{className:"max-w-xl mx-auto px-4 py-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-center text-green-600 mb-4",children:["You are a ",l]}),(0,r.jsx)("p",{className:"text-center text-gray-700 mb-6",children:null==x?void 0:x.description}),(null==x?void 0:x.strengths)&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Key Strengths"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-gray-600",children:x.strengths.map((e,t)=>(0,r.jsx)("li",{children:e},t))})]}),(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsxs)("p",{className:"text-gray-700",children:["Leadership Spectrum: ",(0,r.jsx)("strong",{children:d})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Score: ",y," (Quiz: ",p,", Reflection: ",h,")"]})]}),n?(0,r.jsx)("p",{className:"text-green-700 text-center font-semibold",children:"Thanks! Your results have been saved."}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("input",{className:"border border-gray-300 rounded px-4 py-2 mr-2 w-64",type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email"}),(0,r.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded font-semibold",onClick:b,children:"Get My Report"})]}),n&&(0,r.jsx)("div",{className:"text-center mt-4",children:(0,r.jsx)("button",{onClick:w,className:"bg-blue-600 text-white px-4 py-2 rounded font-semibold",children:"Download My Personalized PDF"})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[930,636,593,792],()=>t(1708)),_N_E=e.O()}]);